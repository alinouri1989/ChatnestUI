import { z } from "zod";

export const signInSchema = z.object({
    Email: z.string().email("????? ???? ????? ?????? ???? ????"),
    Password: z.string().nonempty("??? ???? ??? ?? ???? ????"),
});

export const signUpSchema = z.object({
    DisplayName: z.string()
        .min(5, { message: "??? ?????? ???? ????? 5 ? ?????? 50 ??????? ????." })
        .max(50, { message: "??? ?????? ???? ????? 5 ? ?????? 50 ??????? ????." })
        .regex(/^[\u0600-\u06FFA-Za-z0-9\s]+$/, {
            message: "??? ?????? ??? ???????? ???? ???? ?????/???????? ??? ? ????? ????.",
        }),

    Email: z.string()
        .email({ message: "????? ???? ????? ?????? ???? ????." })
        .max(30, { message: "???? ????? ??? ???? ?????? 30 ??????? ????." }),

    Password: z.string()
        .min(8, { message: "??? ???? ??? ???? ????? 8 ??????? ????." })
        .max(16, { message: "??? ???? ??? ???? ?????? 16 ??????? ????." })
        .regex(/^(?=.*[A-Z])(?=.*\d).*$/, {
            message: "??? ???? ??? ???? ????? ?? ??? ???? ? ?? ??? ????? ????.",
        }),

    PasswordAgain: z.string(),

    BirthDate: z.date({
        invalid_type_error: "????? ????? ?????? ???? ????.",
    }).refine(date => date <= new Date(), {
        message: "????? ???? ????????? ?? ????? ????.",
    }),
}).refine(data => data.Password === data.PasswordAgain, {
    message: "??? ?????? ?????? ??????.",
    path: ["PasswordAgain"],
});

export const resetPasswordSchema = z.object({
    Email: z.string()
        .email({ message: "????? ???? ????? ?????? ???? ????." })
        .nonempty({ message: "???? ????? ????????? ???? ????." })
});

